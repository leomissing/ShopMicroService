# Микросервис для онлайн-магазина
## О микросервисе
> Представляет из себя веб-приложение с реализованными REST-API функциями. Серверная часть выполнена на Django. БД подключается к приложению через Docker образ.
> 
> Модель/сущность - Товар - отвечает за товар на складе, например - телефон это-самой марки от это-самого производителя.
> 
> Поля:
>идентификатор (ID),
> название,описание,
параметры: массив пар ключ/значение
> 
> REST API методы:
Создать новый товар;
Получить список названий товаров, с возможностью фильтрации по:
a) названию
b) выбранному параметру и его значению;
Получить детали товара по ID.
> 
> Методы принимают JSON на входе и отдают JSON на выходе.
## Шаги тестирования
>Установка предполгает в себе, что python 3.9.5, pip 21.1.2 и Docker 20.10.8 (или более поздние версии) установлен на тестовом устройстве.
1. Установка необходимых компонентов
   * `pip install -r requirements.txt`
2. Запуск сервиса
   * создание образа`docker run -d -p 27017:27017 mongo`
   * запуск серверной части`python manage.py runserver`
3. Curl-команды с нужными параметрами для прохождения тестового сценария:
    >Тестовый сценарий. Необходимо занести в БД некоторое количество экземпляров товаров сразу. Далее добавить ещё два экземпляра отдельно. Получить список товаров отсортированных по названию, параметру товара. Получить детали необходимого товара.
   > 
   > Все команды выполнять в директории проекта. Информация будет выводиться в консоль с Curl-командами и консоль сервера.
   * `curl -d "@array.json" -H "Content-Type: application/json" -X POST http://127.0.0.1:8000/data/insert_array/`
   * `curl -d "@1.json" -H "Content-Type: application/json" -X POST http://127.0.0.1:8000/data/insert/`
   * `curl -d "@2.json" -H "Content-Type: application/json" -X POST http://127.0.0.1:8000/data/insert/`
   * `curl http://127.0.0.1:8000/data/sort_by_name/`
   * `curl -d "color" -X POST http://127.0.0.1:8000/data/sort_by_param/`
   * `curl -d "8650" -X POST http://127.0.0.1:8000/data/find_by_id/`
> В Django включен дебаг, если появится необходимость, то нужно его убрать.